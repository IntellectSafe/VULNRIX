{% extends "base.html" %}
{% block title %}Documentation - VULNRIX AI Code Security{% endblock %}

{% block meta_description %}Technical documentation for Vulnrix Hybrid Analysis Engine. Learn about our AST parsing, LLM verification pipeline, and how to integrate with GitHub/GitLab CI/CD.{% endblock %}

{% block content %}
<div class="w-full max-w-7xl mx-auto px-6 py-12 pb-24">
    
    <!-- Docs Header -->
    <div class="mb-16 text-center max-w-3xl mx-auto">
        <h1 class="text-4xl md:text-5xl font-bold text-white mb-6">Documentation & Architecture</h1>
        <p class="text-xl text-zinc-400">
            Technical overview of the Vulnrix Hybrid Analysis Engine, scanning pipeline, and integration capabilities.
        </p>
    </div>

    <!-- Main Content Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-12">
        
        <!-- Sidebar / ToC -->
        <div class="lg:col-span-3">
            <div class="sticky top-24 space-y-2 border-l border-zinc-800 pl-4">
                <a href="#overview" class="block text-sm text-teal-400 font-medium">Overview</a>
                <a href="#pipeline" class="block text-sm text-zinc-500 hover:text-zinc-300 transition-colors">Analysis Pipeline</a>
                <a href="#comparison" class="block text-sm text-zinc-500 hover:text-zinc-300 transition-colors">Comparison (vs CodeQL)</a>
                <a href="#footprint" class="block text-sm text-zinc-500 hover:text-zinc-300 transition-colors">Digital Footprint</a>
                <a href="#faq" class="block text-sm text-zinc-500 hover:text-zinc-300 transition-colors">Technical FAQ</a>
            </div>
        </div>

        <!-- content -->
        <div class="lg:col-span-9 space-y-16">
            
            <!-- Overview -->
            <section id="overview" class="scroll-mt-24">
                <h2 class="text-2xl font-bold text-white mb-4">What is Vulnrix?</h2>
                <div class="prose prose-invert max-w-none text-zinc-400">
                    <p class="mb-4">
                        Vulnrix is an <strong>AI-augmented Static Application Security Testing (SAST) platform</strong> designed to detect 
                        vulnerabilities in source code that traditional regex-based scanners miss.
                    </p>
                    <p>
                        Unlike purely static tools (like ESLint) or purely dynamic tools (DAST), Vulnrix utilizes a 
                        <strong>Hybrid Analysis Engine</strong> that first identifies candidate hotspots using AST parsing and pattern matching, 
                        then verifies them using a context-aware Large Language Model (LLM) to reduce false positives.
                    </p>
                </div>
            </section>

            <!-- Pipeline -->
            <section id="pipeline" class="scroll-mt-24">
                <h2 class="text-2xl font-bold text-white mb-6">The Scanning Pipeline</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-zinc-900/50 border border-zinc-800 p-6 rounded-lg">
                        <div class="text-teal-500 font-mono text-sm mb-2">STAGE 1</div>
                        <h3 class="text-lg font-semibold text-white mb-2">Ingestion & Tokenization</h3>
                        <p class="text-sm text-zinc-400">
                            Source code is ingested via file upload or Git clone. Files are filtered (e.g., ignoring `node_modules`, `tests`) 
                            and tokenized to construct an Abstract Syntax Tree (AST) representation.
                        </p>
                    </div>
                    
                    <div class="bg-zinc-900/50 border border-zinc-800 p-6 rounded-lg">
                        <div class="text-teal-500 font-mono text-sm mb-2">STAGE 2</div>
                        <h3 class="text-lg font-semibold text-white mb-2">Heuristic Pattern Matching</h3>
                        <p class="text-sm text-zinc-400">
                            The engine runs high-speed regex and structural queries (similar to Semgrep rules) to identify 
                            potential "hotspots" or dangerous sinks (e.g., `eval()`, SQL concatenation).
                        </p>
                    </div>

                    <div class="bg-zinc-900/50 border border-zinc-800 p-6 rounded-lg">
                        <div class="text-teal-500 font-mono text-sm mb-2">STAGE 3</div>
                        <h3 class="text-lg font-semibold text-white mb-2">AI Verification (Context Window)</h3>
                        <p class="text-sm text-zinc-400">
                            Candidate snippets—along with surrounding context (50-100 lines)—are sent to the LLM Analysis Node. 
                            The model determines if user input can actually reach the sink (Taint Analysis simulation).
                        </p>
                    </div>

                    <div class="bg-zinc-900/50 border border-zinc-800 p-6 rounded-lg">
                        <div class="text-teal-500 font-mono text-sm mb-2">STAGE 4</div>
                        <h3 class="text-lg font-semibold text-white mb-2">Correlation & Reporting</h3>
                        <p class="text-sm text-zinc-400">
                            Confirmed findings are aggregated, deduplicated, and mapped to CWE/OWASP categories. 
                            Digital Footprint results are overlaid to provide external context.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Comparison Table -->
            <section id="comparison" class="scroll-mt-24">
                <h2 class="text-2xl font-bold text-white mb-6">Comparison: Vulnrix vs Industry Standard</h2>
                <div class="overflow-x-auto rounded-lg border border-zinc-800">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-zinc-900 text-zinc-400 font-medium">
                            <tr>
                                <th class="p-4 border-b border-zinc-800">Feature</th>
                                <th class="p-4 border-b border-zinc-800 text-teal-400">Vulnrix (Hybrid)</th>
                                <th class="p-4 border-b border-zinc-800">CodeQL (Deep SAST)</th>
                                <th class="p-4 border-b border-zinc-800">Semgrep (Linter)</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-zinc-800 text-zinc-300">
                            <tr>
                                <td class="p-4 font-semibold text-zinc-400">Analysis Method</td>
                                <td class="p-4">Heuristics + LLM</td>
                                <td class="p-4">Path Analysis (Datalog)</td>
                                <td class="p-4">AST Pattern Matching</td>
                            </tr>
                            <tr>
                                <td class="p-4 font-semibold text-zinc-400">Build Required?</td>
                                <td class="p-4 text-green-400">No (Source only)</td>
                                <td class="p-4 text-red-400">Yes (Compiled DB)</td>
                                <td class="p-4 text-green-400">No</td>
                            </tr>
                            <tr>
                                <td class="p-4 font-semibold text-zinc-400">False Positive Rate</td>
                                <td class="p-4 text-green-400">Low (AI Filtering)</td>
                                <td class="p-4 text-yellow-500">Low/Medium</td>
                                <td class="p-4 text-red-400">High (No flow context)</td>
                            </tr>
                            <tr>
                                <td class="p-4 font-semibold text-zinc-400">Digital Footprint</td>
                                <td class="p-4 text-green-400">Integrated</td>
                                <td class="p-4 text-zinc-600">No</td>
                                <td class="p-4 text-zinc-600">No</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- Digital Footprint -->
            <section id="footprint" class="scroll-mt-24">
                <h2 class="text-2xl font-bold text-white mb-4">Digital Footprint Monitoring</h2>
                <div class="prose prose-invert max-w-none text-zinc-400">
                    <p>
                        Security doesn't stop at code. Vulnrix includes a specialized <strong>OSINT module</strong> that scans:
                    </p>
                    <ul class="list-disc list-inside mt-4 space-y-2 marker:text-teal-500">
                        <li><strong>Public Leaks:</strong> Scans Pastebin, GitHub Gists, and dark web indexes for leaked API keys, credentials, or mentions of your Name, Username, or Email.</li>
                        <li><strong>De-Fi & Crypto:</strong> Analyzes Bitcoin addresses and IPFS hashes for illicit activity or exposure.</li>
                        <li><strong>Infrastructure:</strong> Maps subdomains, IPs, and CIDR blocks to identify exposed endpoints and shadow IT.</li>
                        <li><strong>Social Engineering Risks:</strong> Analyzes public employee data and social media handles that could be leveraged for phishing.</li>
                    </ul>
                </div>
            </section>

            <!-- FAQ -->
            <section id="faq" class="scroll-mt-24">
                <h2 class="text-2xl font-bold text-white mb-6">Technical FAQ</h2>
                <div class="space-y-6">
                    <div itemscope itemtype="https://schema.org/Question" class="border-b border-zinc-800 pb-4">
                        <h3 itemprop="name" class="text-lg font-medium text-zinc-200 mb-2">Does Vulnrix store my source code?</h3>
                        <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                            <div itemprop="text" class="text-zinc-500 text-sm leading-relaxed">
                                No. Source code is processed ephemerally in volatile memory during the scan. 
                                Only metadata (function names, snippets of findings) is stored for reporting purposes.
                            </div>
                        </div>
                    </div>
                    <div itemscope itemtype="https://schema.org/Question" class="border-b border-zinc-800 pb-4">
                        <h3 itemprop="name" class="text-lg font-medium text-zinc-200 mb-2">Can I scan private repositories?</h3>
                        <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                            <div itemprop="text" class="text-zinc-500 text-sm leading-relaxed">
                                Yes. The <strong>Repo Scanner</strong> supports private repositories accessible via your GitHub/GitLab account tokens, or you can upload a ZIP archive of your source tree.
                            </div>
                        </div>
                    </div>
                    <div itemscope itemtype="https://schema.org/Question">
                        <h3 itemprop="name" class="text-lg font-medium text-zinc-200 mb-2">What languages are supported?</h3>
                        <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                            <div itemprop="text" class="text-zinc-500 text-sm leading-relaxed">
                                Currently, Vulnrix has optimized patterns for Python, JavaScript/TypeScript, Go, C/C++, PHP, Rust and many more. 
                                The LLM verifier can interpret logic in almost any programming language.
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </div>
    </div>
</div>
{% endblock %}
